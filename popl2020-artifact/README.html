<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Artifact: Dependent Type Systems as Macros</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Artifact:<span class="mywbr"> &nbsp;</span> Dependent Type Systems as Macros</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Artifact_.Setup_and_.Installation%29" class="tocviewlink" data-pltdoc="x">Artifact Setup and Installation</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Artifact_.Overview%29" class="tocviewlink" data-pltdoc="x">Artifact Overview</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._examples%29" class="tocviewlink" data-pltdoc="x">Code From the Paper (sections 2-<wbr></wbr>5)</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Paper_.Section_6__.Companion_.D.S.Ls%29" class="tocviewlink" data-pltdoc="x">Paper Section 6:<span class="mywbr"> &nbsp;</span> Companion DSLs</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Software_.Foundations__vol__1__examples%29" class="tocviewlink" data-pltdoc="x">Software Foundations (vol. 1) examples</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Artifact__.Dependent_.Type_.Systems_as_.Macros%29" class="tocsubseclink" data-pltdoc="x">Artifact:<span class="mywbr"> &nbsp;</span> Dependent Type Systems as Macros</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Artifact_.Setup_and_.Installation%29" class="tocsubseclink" data-pltdoc="x">Artifact Setup and Installation</a></td></tr><tr><td><span class="tocsublinknumber">1.1<tt>&nbsp;</tt></span><a href="#%28part._vm%29" class="tocsubseclink" data-pltdoc="x">Virtual<span class="mywbr"> &nbsp;</span>Box VM image</a></td></tr><tr><td><span class="tocsublinknumber">1.2<tt>&nbsp;</tt></span><a href="#%28part._manual%29" class="tocsubseclink" data-pltdoc="x">Manual installation</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._.Artifact_.Overview%29" class="tocsubseclink" data-pltdoc="x">Artifact Overview</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._examples%29" class="tocsubseclink" data-pltdoc="x">Code From the Paper (sections 2-<wbr></wbr>5)</a></td></tr><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._.Paper_section_3__.Typed_.Video_and_define-type%29" class="tocsubseclink" data-pltdoc="x">Paper section 3:<span class="mywbr"> &nbsp;</span> Typed Video and <span class="RktSym">define-<wbr></wbr>type</span></a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Paper_section_4__core_dependent_calculus%29" class="tocsubseclink" data-pltdoc="x">Paper section 4:<span class="mywbr"> &nbsp;</span> core dependent calculus</a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._.Paper_section_5__.Cur%29" class="tocsubseclink" data-pltdoc="x">Paper section 5:<span class="mywbr"> &nbsp;</span> Cur</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Paper_.Section_6__.Companion_.D.S.Ls%29" class="tocsubseclink" data-pltdoc="x">Paper Section 6:<span class="mywbr"> &nbsp;</span> Companion DSLs</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Software_.Foundations__vol__1__examples%29" class="tocsubseclink" data-pltdoc="x">Software Foundations (vol. 1) examples</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">7.4.0.10</span></div><h2><a name="(part._.Artifact__.Dependent_.Type_.Systems_as_.Macros)"></a>Artifact: Dependent Type Systems as Macros</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Stephen Chang &lt;<a href="mailto:stchang@ccs.neu.edu">stchang@ccs.neu.edu</a>&gt;,<br/>Michael Ballantyne &lt;<a href="mailto:mballantyne@ccs.neu.edu">mballantyne@ccs.neu.edu</a>&gt;,<br/>Milo Turner &lt;<a href="mailto:turner.mil@husky.neu.edu">turner.mil@husky.neu.edu</a>&gt;,<br/>and William J. Bowman &lt;<a href="mailto:wjb@williamjbowman.com">wjb@williamjbowman.com</a>&gt;</p></span></div><p>This is a README file for the artifact that accompanies "Dependent Type Systems as Macros" in
POPL 2020.  If you have any questions, please email any (or all) of the
authors.</p><p><div class="SIntrapara">Our artifact is a VM image that contains:
</div><div class="SIntrapara"><ul><li><p>a copy of the POPL 2020 submission <a href="file:///home/stchang/macrotypes-cur/popl2020-artifact/paper.pdf">[link]</a>,</p></li><li><p>a distribution of the Racket programming language (v7.4),</p></li><li><p>and the <span class="RktSym">turnstile+</span> library and its documentation.</p></li></ul></div></p><p><div class="SIntrapara">The goals of this artifact are to:
</div><div class="SIntrapara"><ul><li><p>package the library associated with the paper,</p></li><li><p>provide runnable code for each stylized example in the paper,</p></li><li><p>and show how the tables in the paper were computed.</p></li></ul></div></p><h3>1<tt>&nbsp;</tt><a name="(part._.Artifact_.Setup_and_.Installation)"></a>Artifact Setup and Installation</h3><p><div class="SIntrapara">The artifact may be installed in two ways:
</div><div class="SIntrapara"><ul><li><p><a href="#%28part._vm%29" data-pltdoc="x">VirtualBox VM image</a> (recommended)</p></li><li><p><a href="#%28part._manual%29" data-pltdoc="x">Manual installation</a></p></li></ul></div></p><p>The VM image is configured to automatically login to the <span class="stt">artifact</span> user
account. The password for the account is also <span class="stt">artifact</span>. The account has
root privileges using <span class="stt">sudo</span> without a password.</p><p>Skip the rest of this section if you are already reading this document from
within the VM.</p><h4>1.1<tt>&nbsp;</tt><a name="(part._vm)"></a>VirtualBox VM image</h4><p><div class="SIntrapara">The artifact is available as a virtual machine appliance for
<a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a>.
</div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>VM appliance:
<a href="http://www.ccs.neu.edu/home/stchang/popl2020/depmacros.ova">[link]</a></p></blockquote></blockquote></blockquote></div></p><p>To run the artifact image, open the downloaded <span class="stt">.ova</span> file using the
<span class="stt">File-&gt;Import Appliance</span> menu item. This will create a new VM
that can be launched after import. We recommend giving the VM at least
2GB of RAM.</p><h4>1.2<tt>&nbsp;</tt><a name="(part._manual)"></a>Manual installation</h4><p>Follow these instructions to manually install the artifact only if
the VirtualBox image is somehow not working.</p><p>(We have only tested these steps with Linux.)</p><ul><li><p>Install <a href="http://download.racket-lang.org">Racket
7.4</a>.</p><p>Add the Racket <span class="stt">bin</span> directory to your <span class="stt">PATH</span>. The
remaining steps assume that Racket&rsquo;s <span class="stt">bin</span> directory is in the
<span class="stt">PATH</span>.</p></li><li><p>Clone the repository into the <span class="stt">popl2020</span> directory (or any directory):</p><p><span class="stt">git clone https://github.com/stchang/macrotypes popl2020</span></p></li><li><p>Change directory to the repository root:</p><p><span class="stt">cd popl2020</span></p></li><li><p>From the repository root, check out the <span class="stt">popl2020-artifact</span> branch:</p><p><span class="stt">git checkout popl2020-artifact</span></p></li><li><p>From the repository root, install Turnstile (may take ~30min-1hr):</p><p><span class="stt">raco pkg install </span>--<span class="stt">auto</span></p></li><li><p>Register the documentation:</p><p><span class="stt">raco setup </span>--<span class="stt">doc-index</span></p></li><li><p>From the repository root, change to the <span class="stt">artifact</span> directory:</p><p><span class="stt">cd popl2020-artifact</span></p></li><li><p>Build the readme:</p><p><span class="stt">make readme</span></p></li><li><p>Open the produced <span class="stt">README.html</span> file.</p></li></ul><h3>2<tt>&nbsp;</tt><a name="(part._.Artifact_.Overview)"></a>Artifact Overview</h3><p>The relevant files are in <a href="file:///home/stchang/macrotypes-cur"><span class="stt">/home/stchang/macrotypes-cur</span></a>.</p><p><div class="SIntrapara">The following files may also be accessed via the VM Desktop:
</div><div class="SIntrapara"><ul><li><p><a href="file:///home/stchang/macrotypes-cur/popl2020-artifact/README.html"><span class="stt">README.html</span></a>: This page</p></li><li><p><a href="file:///home/stchang/macrotypes-cur/popl2020-artifact/paper.pdf"><span class="stt">paper.pdf</span></a>: The camera-ready version of the paper.</p></li><li><p><span class="stt">DrRacket</span>: DrRacket IDE for Racket v7.4</p><p>Run example files by opening them in DrRacket and pressing the "Run" button.</p><p>Alternatively, run files from the command line with <span class="stt">racket</span>:</p><p><span class="stt">racket &lt;Racket filename&gt;</span></p></li></ul></div></p><h3>3<tt>&nbsp;</tt><a name="(part._examples)"></a>Code From the Paper (sections 2-5)</h3><p>For readability and conciseness, the paper presents simplified code that is
stylized with colors and abbreviations. Thus code examples from the paper may
not run as presented. However, runnable versions of the paper&rsquo;s examples are
available in this artifact and are explained in this section.</p><p>The file links in this artifact open in the browser by default. (If
not viewing in the VM, you may need to adjust your browser&rsquo;s "Text
Encoding" to display Unicode.) To run a file, open with DrRacket or
use the command line.</p><h4>3.1<tt>&nbsp;</tt><a name="(part._.Paper_section_3__.Typed_.Video_and_define-type)"></a>Paper section 3: Typed Video and <span class="RktSym">define-type</span></h4><p><div class="SIntrapara"><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020"><span class="stt">/home/stchang/macrotypes-cur/turnstile-example/popl2020</span></a>
</div><div class="SIntrapara"><ul><li><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig5-video.rkt"><span class="stt">fig5-video.rkt</span></a></p><p>This is the core of Typed Video from Figure 5.</p><p>It includes the type-level evaluation <span class="RktSym">define-norm</span> definition from Figure 9.</p><p>See <a href="file:///home/stchang/macrotypes-cur/turnstile-test/tests/popl2020/fig5-video-tests.rkt"><span class="stt">fig5-video-tests.rkt</span></a> for examples written with this core language.</p><p><div class="SIntrapara">To define <span class="RktSym">&#8594;vid</span>, <a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig5-video.rkt"><span class="stt">fig5-video.rkt</span></a> uses <span class="RktSym">define-type</span> by default. But the example also works with alternate <span class="RktSym">&#8594;vid</span> definitions:
      </div><div class="SIntrapara"><ul><li><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig6-right-arrow.rkt"><span class="stt">fig6-right-arrow.rkt</span></a>: Figure 6 (right).</p></li><li><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig7-right-arrow.rkt"><span class="stt">fig7-right-arrow.rkt</span></a>: Figure 7 (right)</p></li></ul></div></p><p>Uncomment the appropriate line in <a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig5-video.rkt"><span class="stt">fig5-video.rkt</span></a> to use one of these alternate definitions.</p></li><li><p><a href="https://github.com/videolang/typed-video/blob/master/typed/video.rkt">Here is the full implementation of Typed Video</a>. It is based on the core language presented in Figure 5.</p><p>Here is a <a href="https://github.com/videolang/typed-video/tree/master/tests">test suite for Typed Video</a>, including <a href="https://github.com/videolang/typed-video/blob/master/tests/paper-tests.rkt#L281-L295">the <span class="RktSym">mk-conf-talk</span> example from the paper</a> (it uses a slightly different syntax for <span class="RktSym">&#8594;vid</span>).</p></li><li><p><div class="SIntrapara">Here are the Turnstile+ <span class="RktSym">expand/bind</span> and other functions from Figure 8:
     </div><div class="SIntrapara"><ul><li><p><a href="https://github.com/stchang/macrotypes/blob/cur/macrotypes-lib/macrotypes/typecheck-core.rkt#L1132-L1134"><span class="RktSym">expand/bind</span></a>: The <span class="RktSym">norm</span> function from Figure 9, and on the bottom of page 9, is called <span class="RktSym">current-type-eval</span> here.</p></li><li><p><a href="https://github.com/stchang/macrotypes/blob/cur/macrotypes-lib/macrotypes/typecheck-core.rkt#L1092-L1103"><span class="RktSym">env-add</span></a>: Here the calls to <span class="RktSym">syntax-local-bind-syntaxes</span> are (approximately) abbreviated to <span class="RktSym">env-add-m</span> in the paper.</p></li><li><p><a href="https://github.com/stchang/macrotypes/blob/cur/macrotypes-lib/macrotypes/typecheck-core.rkt#L1143-L1154"><span class="RktSym">expand/bind/check</span></a></p></li></ul></div></p></li></ul></div></p><h4>3.2<tt>&nbsp;</tt><a name="(part._.Paper_section_4__core_dependent_calculus)"></a>Paper section 4: core dependent calculus</h4><p><div class="SIntrapara"><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020"><span class="stt">/home/stchang/macrotypes-cur/turnstile-example/popl2020</span></a>
</div><div class="SIntrapara"><ul><li><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig10-dep.rkt"><span class="stt">fig10-dep.rkt</span></a>: Figure 10&rsquo;s dependent core calculus.
See <a href="file:///home/stchang/macrotypes-cur/turnstile-test/tests/popl2020/dep-lang-tests.rkt"><span class="stt">dep-lang-tests.rkt</span></a> for examples written with this core language.</p></li><li><p><div class="SIntrapara">Figure 12: the Turnstile+ type eval library:
</div><div class="SIntrapara"><ul><li><p><a href="https://github.com/stchang/macrotypes/blob/cur/turnstile-lib/turnstile/eval.rkt#L14-L25"><span class="RktSym">reflect</span></a>: called <span class="RktSym">&#8657;</span> in the paper</p></li><li><p><a href="https://github.com/stchang/macrotypes/blob/cur/turnstile-lib/turnstile/eval.rkt#L27-L34"><span class="RktSym">mk-reflected</span></a></p></li><li><p><a href="https://github.com/stchang/macrotypes/blob/cur/turnstile-lib/turnstile/eval.rkt#L36-L72"><span class="RktSym">define-red</span></a></p></li></ul></div></p></li><li><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig13-sugar.rkt"><span class="stt">fig13-sugar.rkt</span></a>: Figure 13&rsquo;s sugar library. It only defines "safe" extensions, i.e., sugar for <a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig10-dep.rkt"><span class="stt">fig10-dep.rkt</span></a> terms.</p></li><li><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig14-nat.rkt"><span class="stt">fig14-nat.rkt</span></a>: Figure 14&rsquo;s <span class="RktSym">Nat</span> library. Unlike <a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig13-sugar.rkt"><span class="stt">fig13-sugar.rkt</span></a>, these extensions are not safe because they add new type rules.</p></li><li><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig15-eq.rkt"><span class="stt">fig15-eq.rkt</span></a>: Figure 15&rsquo;s equality library. Similar to <a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig14-nat.rkt"><span class="stt">fig14-nat.rkt</span></a>, this library adds new type rules.</p><p>See <a href="file:///home/stchang/macrotypes-cur/turnstile-test/tests/popl2020/dep-lang-tests.rkt"><span class="stt">dep-lang-tests.rkt</span></a> for examples using the sugar, Nat, and equality libraries. We prove a basic zero identity property of natural numbers.</p></li><li><p>Figure 16: Here is the <a href="https://github.com/stchang/macrotypes/blob/cur/turnstile-lib/turnstile/typedefs.rkt#L154-L187">Turnstile+ <span class="RktSym">define-type</span></a> that uses the pattern-based substitution from Sec 4.4.</p></li><li><p>Figure 17:</p><p>Here is <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-lib/cur/stdlib/axiom.rkt#L19-L24">a Cur library that provides <span class="RktSym">define-axiom</span></a>.</p><p>Here is <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-test/cur/tests/stdlib/axiom.rkt#L36-L48">a Cur program using <span class="RktSym">define-axiom</span></a>.</p></li><li><p>Figure 18 (top):</p><p>Here is <a href="https://github.com/stchang/cur/blob/turnstile-core%2Brosette/cur-lib/cur/stdlib/z3.rkt#L27-L43">a Cur library that provides <span class="RktSym">define-axiom/z3</span></a>, which calls out to a solver. It uses the Rosette language to help translate to Z3 terms.</p><p>Here are <a href="https://github.com/stchang/cur/blob/turnstile-core%2Brosette/cur-test/cur/tests/stdlib/z3.rkt">some Cur programs using <span class="RktSym">define-axiom/z3</span></a>.</p></li><li><p>Figure 18 (bottom):</p><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig18-dep+report.rkt"><span class="stt">fig18-dep+report.rkt</span></a> shows a language implementation that is like <a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig10-dep.rkt"><span class="stt">fig10-dep.rkt</span></a>, except its <span class="RktSym">require</span> form is replaced with Figure 18&rsquo;s <span class="RktSym">require/report</span>.</p><p>When the previous examples (see <a href="file:///home/stchang/macrotypes-cur/turnstile-test/tests/popl2020/fig18-dep+report-tests.rkt"><span class="stt">fig18-dep+report-tests.rkt</span></a>) are run, the language reports that the <span class="RktSym">fig15-eq</span> and <span class="RktSym">fig19-data</span> libraries extend the type system, but <span class="RktSym">fig13-sugar</span> does not.</p></li><li><p>Figure 19:
       <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-lib/cur/curnel/coc.rkt">Cur&rsquo;s core calculus</a> is roughly the same as  <a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020/fig10-dep.rkt"><span class="stt">fig10-dep.rkt</span></a>, but with a proper universe hierarchy.</p><p>Instead of extending the type system with every new data type like <span class="RktSym">Nat</span> or equality, Cur includes <span class="RktSym">define-datatype</span>. <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-lib/cur/curnel/cic-saccharata.rkt#L182">Cur&rsquo;s <span class="RktSym">define-datatype</span> code is almost identical, minus extras like positivity checking, to the code presented in the paper</a>.</p></li></ul></div></p><h4>3.3<tt>&nbsp;</tt><a name="(part._.Paper_section_5__.Cur)"></a>Paper section 5: Cur</h4><p><a href="file:///home/stchang/macrotypes-cur/turnstile-example/popl2020"><span class="stt">/home/stchang/macrotypes-cur/turnstile-example/popl2020</span></a></p><ul><li><p>Figure 20: <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-lib/cur/stdlib/sugar.rkt#L299">Cur <span class="RktSym">define-implicit</span></a></p></li><li><p>Figure 21: <a href="https://github.com/stchang/macrotypes/blob/cur/turnstile-lib/turnstile/type-constraints.rkt#L37">Turnstile+ <span class="RktSym">unify</span></a>. The name is different (<span class="RktSym">add-constraints</span>) but the cases match the code presented in the paper.</p></li><li><p>Figure 22: <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-lib/cur/stdlib/sugar.rkt#L96">Cur <span class="RktSym">match</span></a>, where <span class="RktSym">get-datatype-def</span> from the paper is <span class="RktSym">get-match-info</span>, and <span class="RktSym">case-&gt;method</span> from the paper is <span class="RktSym">mk-method</span>.</p></li><li><p>Figure 23 (top): <a href="https://github.com/stchang/macrotypes/blob/generic-type-methods/turnstile-lib/turnstile/typedefs.rkt#L225">Turnstile+ <span class="RktSym">define-type</span> supporting generic methods. The A <span class="RktSym">maybe-meths</span> syntax class matches the <span class="RktPn">#:implements</span><span class="stt"> </span><span class="RktSym">keyword</span>.</a></p><p>As mentioned by the paper, <a href="https://github.com/stchang/macrotypes/blob/generic-type-methods/turnstile-lib/turnstile/typedefs.rkt#L260">a table of methods is associated with each type</a>.</p><p>Programmers <a href="https://github.com/stchang/macrotypes/blob/generic-type-methods/turnstile-lib/turnstile/typedefs.rkt#L65-L77">declare new methods with <span class="RktSym">define-generic-type-method</span></a>, which looks up the method in the table, e.g., <a href="https://github.com/stchang/macrotypes/blob/generic-type-methods/turnstile-lib/turnstile/typedefs.rkt#L79"><span class="RktSym">get-datatype-def</span></a>.</p><p>Figure 23 (bottom): Cur&rsquo;s <span class="RktSym">define-datatype</span> <a href="https://github.com/stchang/cur/blob/generic-type-methods/cur-lib/cur/curnel/cic-saccharata.rkt#L301-L305">uses the <span class="RktPn">#:implements</span> declaration</a> to define <span class="RktSym">get-datatype-def</span> for each type.</p></li><li><p>Figure 24: <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-lib/cur/stdlib/sugar.rkt#L189">Cur&rsquo;s <span class="RktSym">define/rec/match</span></a></p></li><li><p>Figure 25: <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-lib/cur/stdlib/sized.rkt">Cur&rsquo;s sized types library</a>, where <span class="RktSym">lift-datatype</span> from the paper is <span class="RktSym">define-sized-datatype</span>, and <span class="RktSym">def/rec/match_sz</span> from the paper is <span class="RktSym">define/rec/match2</span>.</p><p>See the <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-test/cur/tests/stdlib/sized.rkt">runnable versions of the sized type examples from the paper</a> for examples that using this library.</p></li></ul><h3>4<tt>&nbsp;</tt><a name="(part._.Paper_.Section_6__.Companion_.D.S.Ls)"></a>Paper Section 6: Companion DSLs</h3><ul><li><p>Figure 26: <a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-lib/cur/olly.rkt">Cur&rsquo;s Olly DSL</a>.</p><p><a href="https://github.com/wilbowma/cur/blob/turnstile-core/cur-test/cur/tests/stlc.rkt">Here is the Olly STLC example from the paper.</a></p></li><li><p>Figure 27 (left): <a href="https://github.com/stchang/cur/blob/metantac/cur-lib/cur/ntac/metantac.rkt#L145"><span class="RktSym">define-tactic</span> from metantac</a></p></li><li><p>Figure 27 (right): <a href="https://github.com/stchang/cur/blob/metantac/cur-lib/cur/ntac/standard.rkt#L151">ntac <span class="RktSym">intro</span> tactic</a>, where &#8618; from the paper is <span class="RktSym">$fill</span>, implemented with metantac and <span class="RktSym">define-tactic</span>.</p><p>Figure 27 (right): <a href="https://github.com/stchang/cur/blob/metantac/cur-lib/cur/ntac/standard.rkt#L249">ntac <span class="RktSym">assumption</span> tactic</a></p><p>Figure 27 (bottom): <a href="https://github.com/stchang/cur/blob/metantac/cur-lib/cur/ntac/inversion.rkt#L11">ntac <span class="RktSym">inversion</span> tactic</a></p></li><li><p><a href="https://github.com/stchang/cur/blob/metantac/cur-lib/cur/ntac/standard.rkt#L137">ntac <span class="RktSym">try</span> tactic</a>, implemented with metantac and <span class="RktSym">define-tactical</span>.</p></li><li><p><a href="https://github.com/stchang/cur/blob/metantac/cur-lib/cur/ntac/standard.rkt#L431">ntac <span class="RktSym">induction</span> tactic</a>, with optional declarative subgoal checking.</p></li><li><p><a href="https://github.com/stchang/cur/blob/metantac/cur-lib/cur/ntac/standard.rkt#L87">ntac <span class="RktSym">interactive</span> tactic</a></p></li></ul><h3>5<tt>&nbsp;</tt><a name="(part._.Software_.Foundations__vol__1__examples)"></a>Software Foundations (vol. 1) examples</h3><p><a href="https://github.com/wilbowma/cur/tree/turnstile-core/cur-test/cur/tests/ntac/software-foundations">Software Foundations examples</a></p></div></div><div id="contextindicator">&nbsp;</div></body></html>